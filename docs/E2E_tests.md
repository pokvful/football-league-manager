# End-to-End testing

## Use cases

### Ophalen top-lijst

| Stap | Actie                                                      | Input                                                                             | Expected Output                                                                   | Output                                                                           | Resultaat |
|------|------------------------------------------------------------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|----------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                            | ```mongosh 127.0.0.1:27017/flm -u mongo -p toor --authenticationDatabase admin``` | ![Database connection](images/test_results/verbinding-resultaat.png)              | ![Database connection](images/test_results/verbinding-resultaat.png)             | Geslaagd  |
| 2    | Voer query uit voor het ophalen van top-lijst rode kaarten | ```db.VW_TOP_LIST_RED_CARD.find()```                                              | ![Ophalen top-lijst expected](images/test_results/ophalen-top-lijst-expected.png) | ![Ophalen top-lijst result](images/test_results/ophalen-top-lijst-resultaat.png) | Geslaagd  |

### Ophalen tussenstand competitie

| Stap | Actie                                                      | Input                                                                             | Expected Output                                                                                             | Output                                                                                                     | Resultaat |
|------|------------------------------------------------------------|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                            | ```mongosh 127.0.0.1:27017/flm -u mongo -p toor --authenticationDatabase admin``` | ![Database connection](images/test_results/verbinding-resultaat.png)                                        | ![Database connection](images/test_results/verbinding-resultaat.png)                                       | Geslaagd  |
| 2    | Voer query uit voor het ophalen van tussenstand competitie | ```db.SCORE_EDITIONS.find()```                                                    | ![Ophalen tussenstand competitie expected](images/test_results/ophalen-tussenstand-competitie-expected.png) | ![Ophalen tussenstand competitie result](images/test_results/ophalen-tussenstand-competitie-resultaat.png) | Geslaagd  |

### Ophalen clubinfo

| Stap | Actie                                                          | Input                                                                             | Expected Output                                                               | Output                                                                         | Resultaat |
|------|----------------------------------------------------------------|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------|--------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                                | ```mongosh 127.0.0.1:27017/flm -u mongo -p toor --authenticationDatabase admin``` | ![Database connection](images/test_results/verbinding-resultaat.png)          | ![Database connection](images/test_results/verbinding-resultaat.png)           | Geslaagd  |
| 2    | Voer query uit voor het ophalen van club informatie over Eadel | ```db.CLUB.find({CLUB_NAME:"EADEL"})```                                           | ![Ophalen clubinfo result](images/test_results/ophalen-clubinfo-expected.png) | ![Ophalen clubinfo result](images/test_results/ophalen-clubinfo-resultaat.png) | Geslaagd  |

### Ophalen matchinfo

| Stap | Actie                                              | Input                                                                             | Expected Output                                                                 | Output                                                                           | Resultaat |
|------|----------------------------------------------------|-----------------------------------------------------------------------------------|---------------------------------------------------------------------------------|----------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                    | ```mongosh 127.0.0.1:27017/flm -u mongo -p toor --authenticationDatabase admin``` | ![Database connection](images/test_results/verbinding-resultaat.png)            | ![Database connection](images/test_results/verbinding-resultaat.png)             | Geslaagd  |
| 2    | Voer query uit voor het ophalen van match met ID 0 | ```db.MATCH.find({MATCH_ID:0})```                                                 | ![Ophalen matchinfo result](images/test_results/ophalen-matchinfo-expected.png) | ![Ophalen matchinfo result](images/test_results/ophalen-matchinfo-resultaat.png) | Geslaagd  |

### Ophalen speelronde info

| Stap | Actie                                                                                                         | Input                                                                                           | Expected Output                                                                           | Output                                                                                     | Resultaat |
|------|---------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                                                                               | ```mongosh 127.0.0.1:27017/flm -u mongo -p toor --authenticationDatabase admin```               | ![Database connection](images/test_results/verbinding-resultaat.png)                      | ![Database connection](images/test_results/verbinding-resultaat.png)                       | Geslaagd  |
| 2    | Voer query uit voor het ophalen van speelronde met startdatum 03-01-2000, seizoen 20/21 en competitie Serie A | ```db.ROUND.find({START_DATE:"2000-01-03", SEASON_NAME:"20/21", COMPETITION_NAME:"Serie A‚Äù})``` | ![Ophalen speelrondeinfo result](images/test_results/ophalen-speelrondeinfo-expected.png) | ![Ophalen speelrondeinfo result](images/test_results/ophalen-speelrondeinfo-resultaat.png) | Geslaagd  |

### Ophalen matchday info

| Stap | Actie                                                                                              | Input                                                                                                | Expected Output                                                                       | Output                                                                                 | Resultaat |
|------|----------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                                                                    | ```mongosh 127.0.0.1:27017/flm -u mongo -p toor --authenticationDatabase admin```                    | ![Database connection](images/test_results/verbinding-resultaat.png)                  | ![Database connection](images/test_results/verbinding-resultaat.png)                   | Geslaagd  |
| 2    | Voer query uit voor het ophalen van matchday 01-01-2000 in seizoen 18/19 uit competitie Bundesliga | ```db.MATCHDAY.find({MATCH_DAY:"2000-01-01", COMPETITION_NAME:"Bundesliga", SEASON_NAME:"18/19"})``` | ![Ophalen matchdayinfo result](images/test_results/ophalen-matchdayinfo-expected.png) | ![Ophalen matchdayinfo result](images/test_results/ophalen-matchdayinfo-resultaat.png) | Geslaagd  |

### Invoeren matchdata

| Stap | Actie                                                                                                  | Input                                                                                                 | Expected Output                                                                    | Output                                                                             | Resultaat |
|------|--------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                                                                        | ```docker-compose -f docker-compose.yaml -f docker-compose.dev.yaml up --build --force-recreate -d``` | ![Database connection](images/test_results/docker-verbinding-resultaat.png)        | ![Database connection](images/test_results/docker-verbinding-resultaat.png)        | Geslaagd  |
| 2    | Voer query uit voor het invoeren van een rode kaart als matchdata voor person id 11 in de 67ste minuut | ```EXEC PROC_ADD_MATCHDATA_RED_CARD @match_id = 0, @time = 67, @person_id = 11;```                    | Commands completed successfully                                                    | Commands completed successfully                                                    | Geslaagd  |
| 3    | Lees de tabel rode kaart en controleer of het invoeren is gelukt                                       | ```SELECT * FROM RED_CARD WHERE MATCH_ID = 0 AND TIME = 67 AND PERSON_ID = 11```                      | ![Invoeren matchdata result](images/test_results/invoeren-matchdata-resultaat.png) | ![Invoeren matchdata result](images/test_results/invoeren-matchdata-resultaat.png) | Geslaagd  |

### Updaten clubinfo

| Stap | Actie                                                                        | Input                                                                                                 | Expected Output                                                                  | Output                                                                           | Resultaat |
|------|------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|----------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                                              | ```docker-compose -f docker-compose.yaml -f docker-compose.dev.yaml up --build --force-recreate -d``` | ![Database connection](images/test_results/docker-verbinding-resultaat.png)      | ![Database connection](images/test_results/docker-verbinding-resultaat.png)      | Geslaagd  |
| 2    | Voer query uit voor het updaten van de stadionnaam naar Test voor club Eadel | ```EXEC UPDATE_CLUB @CLUB_NAME = 'Eadel', @STADIUM_NAME = 'Test'```                                   | Commands completed successfully                                                  | Commands completed successfully                                                  | Geslaagd  |
| 3    | Lees de tabel club en controleer of het invoeren is gelukt                   | ```SELECT * FROM CLUB WHERE CLUB_NAME = 'Eadel'```                                                    | ![Invoeren matchdata result](images/test_results/updaten-clubinfo-resultaat.png) | ![Invoeren matchdata result](images/test_results/updaten-clubinfo-resultaat.png) | Geslaagd  |

### Start nieuw seizoen competitie

-- werkt momenteel nog niet..

### Toevoegen nieuw persoon

| Stap | Actie                                                                    | Input                                                                                                 | Expected Output                                                                         | Output                                                                                  | Resultaat |
|------|--------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                                          | ```docker-compose -f docker-compose.yaml -f docker-compose.dev.yaml up --build --force-recreate -d``` | ![Database connection](images/test_results/docker-verbinding-resultaat.png)             | ![Database connection](images/test_results/docker-verbinding-resultaat.png)             | Geslaagd  |
| 2    | Voer query uit voor het invoeren van een nieuw persoon met de naam Oktay | ```INSERT INTO PERSON VALUES ('Afghanistan', 'Oktay', 'Yatko', null, '1978-04-10')```                 | Commands completed successfully                                                         | Commands completed successfully                                                         | Geslaagd  |
| 3    | Lees de tabel person en controleer of het invoeren is gelukt             | ```SELECT * FROM PERSON WHERE FIRST_NAME = 'Oktay'```                                                 | ![Invoeren matchdata result](images/test_results/toevoegen-nieuw-persoon-resultaat.png) | ![Invoeren matchdata result](images/test_results/toevoegen-nieuw-persoon-resultaat.png) | Geslaagd  |

### Toevoegen nieuw event type

| Stap | Actie                                                                      | Input                                                                                                        | Expected Output                                                                            | Output                                                                                     | Resultaat |
|------|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|-----------|
| 1    | Maak verbinding met de database                                            | ```docker-compose -f docker-compose.yaml -f docker-compose.dev.yaml up --build --force-recreate -d```        | ![Database connection](images/test_results/docker-verbinding-resultaat.png)                | ![Database connection](images/test_results/docker-verbinding-resultaat.png)                | Geslaagd  |
| 2    | Voer query uit voor het invoeren van een nieuw event type met de naam Test | ```DECLARE @column ColumnTable; EXEC ADD_NEW_EVENT_TYPE @newEventName = 'Test', @extraColumns = @columns;``` | Commands completed successfully                                                            | Commands completed successfully                                                            | Geslaagd  |
| 3    | Lees de tabel test en controleer of het aanmaken is gelukt                 | ```SELECT * FROM Test```                                                                                     | ![Invoeren matchdata result](images/test_results/toevoegen-nieuw-event-type-resultaat.png) | ![Invoeren matchdata result](images/test_results/toevoegen-nieuw-event-type-resultaat.png) | Geslaagd  |